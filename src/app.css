@import 'tailwindcss';

/* Cairo font - bundled locally for air-gapped environments */
@font-face {
	font-family: 'Cairo';
	src: url('/fonts/cairo/Cairo.ttf?v=202601042143') format('truetype');
	font-weight: 100 900;
	font-style: normal;
	font-display: swap;
}

@theme {
	--font-sans: 'Cairo', 'Helvetica Neue', Arial, sans-serif;

	/* Define colors as theme variables for easier usage */
	--color-background: var(--color-background);
	--color-foreground: var(--color-foreground);
	/* ... map other colors if needed, but for now we keep the CSS variables approach */
}

/* Initial Theme Variables */
:root {
	/* Light theme colors */
	--color-background: oklch(1 0 0);
	--color-foreground: oklch(0.145 0 0);
	--color-card: oklch(1 0 0);
	--color-card-foreground: oklch(0.145 0 0);
	--color-popover: oklch(1 0 0);
	--color-popover-foreground: oklch(0.145 0 0);
	--color-primary: oklch(0.205 0 0);
	--color-primary-foreground: oklch(0.985 0 0);
	--color-secondary: oklch(0.97 0 0);
	--color-secondary-foreground: oklch(0.205 0 0);
	--color-muted: oklch(0.97 0 0);
	--color-muted-foreground: oklch(0.556 0 0);
	--color-accent: oklch(0.97 0 0);
	--color-accent-foreground: oklch(0.205 0 0);
	--color-destructive: oklch(0.577 0.245 27.325);
	--color-destructive-foreground: oklch(0.577 0.245 27.325);
	--color-border: oklch(0.922 0 0);
	--color-input: oklch(0.922 0 0);
	--color-ring: oklch(0.708 0 0);
	--color-sidebar: oklch(0.985 0 0);
	--color-sidebar-foreground: oklch(0.145 0 0);
	--color-sidebar-primary: oklch(0.205 0 0);
	--color-sidebar-primary-foreground: oklch(0.985 0 0);
	--color-sidebar-accent: oklch(0.97 0 0);
	--color-sidebar-accent-foreground: oklch(0.205 0 0);
	--color-sidebar-border: oklch(0.922 0 0);
	--color-sidebar-ring: oklch(0.708 0 0);

	--radius-lg: 0.5rem;
	--radius-md: calc(var(--radius-lg) - 2px);
	--radius-sm: calc(var(--radius-lg) - 4px);
}

/* Dark theme */
.dark {
	--color-background: oklch(0.145 0 0);
	--color-foreground: oklch(0.985 0 0);
	--color-card: oklch(0.25 0 0);
	--color-card-foreground: oklch(0.985 0 0);
	--color-popover: oklch(0.25 0 0);
	--color-popover-foreground: oklch(0.985 0 0);
	--color-primary: oklch(0.985 0 0);
	--color-primary-foreground: oklch(0.205 0 0);
	--color-secondary: oklch(0.269 0 0);
	--color-secondary-foreground: oklch(0.985 0 0);
	--color-muted: oklch(0.269 0 0);
	--color-muted-foreground: oklch(0.708 0 0);
	--color-accent: oklch(0.269 0 0);
	--color-accent-foreground: oklch(0.985 0 0);
	--color-destructive: oklch(0.396 0.141 25.723);
	--color-destructive-foreground: oklch(0.637 0.237 25.331);
	--color-border: oklch(0.269 0 0);
	--color-input: oklch(0.269 0 0);
	--color-ring: oklch(0.439 0 0);
	--color-sidebar: oklch(0.205 0 0);
	--color-sidebar-foreground: oklch(0.985 0 0);
	--color-sidebar-primary: oklch(0.488 0.243 264.376);
	--color-sidebar-primary-foreground: oklch(0.985 0 0);
	--color-sidebar-accent: oklch(0.269 0 0);
	--color-sidebar-accent-foreground: oklch(0.985 0 0);
	--color-sidebar-border: oklch(0.269 0 0);
	--color-sidebar-ring: oklch(0.439 0 0);
}

/* Base styles - using regular CSS instead of @layer/@apply due to Tailwind v4 limitations */
body {
	background-color: var(--color-background);
	color: var(--color-foreground);
	font-family: var(--font-sans);
	font-feature-settings:
		'rlig' 1,
		'calt' 1;
}

/* RTL support */
[dir='rtl'] {
	text-align: right;
}

[dir='ltr'] {
	text-align: left;
}

/* Force Cairo font globally - MUST be outside @layer to override Tailwind utilities */
html,
body {
	font-family: var(--font-sans);
}

/* Specific overrides for common UI elements */
/* Specific overrides for common UI elements */
.preview-content,
.editor-pane,
.prose,
button,
input,
select,
textarea,
label,
p,
span,
div,
h1,
h2,
h3,
h4,
h5,
h6,
li,
td,
th {
	/* Removed forced font-family to allow settings to control it */
}

/* Custom scrollbar */
@layer utilities {
	.scrollbar-thin {
		scrollbar-width: thin;
	}

	.scrollbar-thin::-webkit-scrollbar {
		width: 6px;
		height: 6px;
	}

	.scrollbar-thin::-webkit-scrollbar-track {
		background: transparent;
	}

	.scrollbar-thin::-webkit-scrollbar-thumb {
		background: var(--color-border);
		border-radius: 3px;
	}

	.scrollbar-thin::-webkit-scrollbar-thumb:hover {
		background: var(--color-muted-foreground);
	}
}

/* Print styles - Global Overrides */
@media print {
	.no-print {
		display: none !important;
	}

	/* Reset all layout constraints */
	html,
	body,
	div[role="application"], /* Main app container */
	header,
	main,
	section,
	.editor-preview-container,
	.preview-pane,
	.preview-container,
	.preview-content {
		background: white !important;
		height: auto !important;
		width: 100% !important;
		min-height: 0 !important;
		overflow: visible !important;
		position: static !important;
		display: block !important;
		float: none !important;
	}

	/* Specific overrides for flex/grid containers that might trap content */
	body {
		font-size: 12pt;
		line-height: 1.5;
	}

	/* Hide editor side completely */
	.editor-pane,
	.resize-handle {
		display: none !important;
	}
}
